<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery实例</title>
    <style>
        div,img,ul,li{margin:0px;padding:0px;}
        #did{width:300px;height:300px;overflow:hidden;display:none;position:absolute;}    
    </style>
</head>
<body>
    <h1 id="hid">jQuery实例--图片的放大镜效果</h1>
    <br/><br/>
    <img id="mid" src="./images/33.jpg" width="384" height="240"/>
    <div id="did">
        <img src="./images/33.jpg"/>
    </div>
    <br/><br/>

    <script src="./jquery-3.5.0.min.js"></script>
    <script>
        //jquery入口
        $(function(){
            //获取mid图片节点并绑定鼠标移入、移出和移动事件
            $("#mid").mouseover(function(){
                //获取被放大图片（事件源对象）的位置
                var offset = $(this).offset();
                //计算放大图层位置
                var y = offset.top;
                var x = offset.left+$(this).width()+5;
                //通过css对放大图层定位，并设置可见
                $("#did").css({top:y+"px",left:x+"px"}).show();
            }).mouseout(function(){
                //隐藏放大图层
                $("#did").hide(); 
            }).mousemove(function(e){
                //输出事件位置
                //console.log(e.pageX,e.pageY);
                //获取当前被放大图层位置
                var offset = $(this).offset();
                //计算鼠标在被放大图层上的位置
                var x = e.pageX - offset.left;
                var y = e.pageY - offset.top;
                //设置放大镜图层的滚动位置
                $("#did").scrollLeft(x*5-150).scrollTop(y*5-150);
            });
        });
       
    </script>
</body>
</html>